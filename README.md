# mogitate-fruits

## æ¦‚è¦ã€€
ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€ç¢ºèªãƒ†ã‚¹ãƒˆç¬¬2å›ã®èª²é¡Œã¨ã—ã¦ä½œæˆã—ãŸã€Œæœç‰©ã®å•†å“ã‚’ç®¡ç†ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã§ã™ã€‚

Laravel ã¨ Docker ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å‹•ä½œã™ã‚‹å•†å“ç®¡ç†æ©Ÿèƒ½ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚ 

ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚·ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’é€šã˜ã¦ã€å•†å“ãƒ»å­£ç¯€ãƒ»ã‚«ãƒ†ã‚´ãƒªã®åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€ç’°å¢ƒæ§‹ç¯‰å¾Œã™ãã«å‹•ä½œç¢ºèªãŒå¯èƒ½ã§ã™ã€‚

---

## ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰æ‰‹é †

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€GitHubã‹ã‚‰ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™ã€‚

ä»Šã¾ã§ã®æ•™æã®ä¸­ã§~/coachtechãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«laravelãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚ 

laravelãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«ã€laravel-docker-template.gitã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ãƒªãƒã‚¸ãƒˆãƒªåã‚’mogitate-fruitsã«å¤‰æ›´ã—ã¾ã™ã€‚
```bash
cd coachtech/laravel
git clone git@github.com:Estra-Coachtech/laravel-docker-template.git
mv laravel-docker-template mogitate-fruits
```

ã¾ãšã€mogitate-fruitsã¨ã„ã†å¤‰æ›´å…ˆã®ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’publicã§ä½œæˆã—ã¾ã™ã€‚

å¤‰æ›´å…ˆã®ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆãŒçµ‚ã‚ã£ãŸã‚‰ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ç´ä»˜ã‘å…ˆã‚’å¤‰æ›´ã—ã¾ã™ã€‚
ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ url ã‚’å–å¾—ã—ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
cd mogitate-fruits
git remote set-url origin git@github.com:megumi2233/mogitate-fruits.git
git remote -v
```
æœ€å¾Œã®ã‚³ãƒãƒ³ãƒ‰ã§ã€å¤‰æ›´å…ˆã® url ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚

### 2. Docker ã®è¨­å®š
ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«å¿…è¦ãªã‚µãƒ¼ãƒ“ã‚¹ï¼ˆnginx, php, mysql, phpMyAdminï¼‰ã‚’Dockerã§æ§‹ç¯‰ãƒ»èµ·å‹•ã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§Dockerç’°å¢ƒã‚’æ§‹ç¯‰ãƒ»èµ·å‹•ã—ã¾ã—ãŸï¼š
```bash
docker-compose up -d --build
```

### 3. Laravel ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
Laravelã®å‹•ä½œã«å¿…è¦ãªä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```bash
docker-compose exec php bash
composer install
```

### 4. .env ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
Laravelã®ç’°å¢ƒè¨­å®šã‚’è¡Œã†ãŸã‚ã«ã€.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
```bash
cp .env.example .env
```

.env ã® DB è¨­å®šã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚
```Env
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=laravel_db
DB_USERNAME=laravel_user
DB_PASSWORD=laravel_pass
```

### 5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã®ç”Ÿæˆ
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
```bash
php artisan key:generate
```

### 5. View ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
å•†å“ç®¡ç†æ©Ÿèƒ½ã«é–¢é€£ã™ã‚‹ç”»é¢ã‚’ä½œæˆã—ã¾ã—ãŸã€‚  
ä¸»ãªãƒ•ã‚¡ã‚¤ãƒ«:
- `resources/views/products/index.blade.php` ï¼ˆå•†å“ä¸€è¦§ç”»é¢ï¼‰
- `resources/views/products/create.blade.php` ï¼ˆå•†å“ç™»éŒ²ç”»é¢ï¼‰
- `resources/views/products/show.blade.php` ï¼ˆå•†å“è©³ç´°ç”»é¢ï¼‰
- `resources/views/layouts/app.blade.php` ï¼ˆå…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰

### 6. CSS ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
å•†å“ç®¡ç†ç”»é¢ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ•´ãˆã‚‹ãŸã‚ã«ã€ãƒšãƒ¼ã‚¸ã”ã¨ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚  
ä¸»ãªãƒ•ã‚¡ã‚¤ãƒ«:
- `public/css/products.css` ï¼ˆå•†å“ä¸€è¦§ç”»é¢ç”¨ï¼‰
- `public/css/product-create.css` ï¼ˆå•†å“ç™»éŒ²ç”»é¢ç”¨ï¼‰
- `public/css/product-detail.css` ï¼ˆå•†å“è©³ç´°ç”»é¢ç”¨ï¼‰

â€» å…±é€šã‚¹ã‚¿ã‚¤ãƒ«ç”¨ã® `style.css` ã€ãƒªã‚»ãƒƒãƒˆç”¨ã® `sanitize.css` ã¯æœªä½œæˆã§ã™ãŒã€å¿…è¦ã«å¿œã˜ã¦è¿½åŠ å¯èƒ½ã§ã™ã€‚

## ğŸ›  ä½¿ç”¨æŠ€è¡“ï¼ˆã“ã®ä¾‹ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ç’°å¢ƒï¼‰
- PHP 8.1
- Laravel 8.83.8
- MySQL 8.0
- Docker (nginx, php, mysql, phpmyadmin)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰: Laravel Mix 6

## ğŸ—‚ ERå›³ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼‰
ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¦–è¦šçš„ã«æŠŠæ¡ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã«ERå›³ã‚’æ²è¼‰ã—ã¦ã„ã¾ã™ã€‚

ã“ã®å›³ã§ã¯ã€`products` ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ `seasons` ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã€Œå¤šå¯¾å¤šã€ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§æ¥ç¶šã•ã‚Œã¦ãŠã‚Šã€  
ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ« `product_season` ã«ã‚ˆã£ã¦é–¢ä¿‚ãŒç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚  
å„ãƒ†ãƒ¼ãƒ–ãƒ«ã¯è¡¨å½¢å¼ï¼ˆå³æƒãˆï¼‰ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€ä¸»ã‚­ãƒ¼ï¼ˆPKï¼‰ãƒ»å¤–éƒ¨ã‚­ãƒ¼ï¼ˆFKï¼‰ã®å½¹å‰²ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚

![ERå›³](assets/mogitate-fruits-test2-er.png)

â€» è£œè¶³ï¼š
1. å›³ã¯ draw.ioï¼ˆdiagrams.netï¼‰ã«ã¦ä½œæˆã—ã€PNGå½¢å¼ã§ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚
2. å…ƒãƒ‡ãƒ¼ã‚¿ã¯ `src/mogitate-fruits-test2-er.drawio` ã«ã¦ç·¨é›†å¯èƒ½ã§ã™ã€‚
3. PNGãƒ•ã‚¡ã‚¤ãƒ«ã¯ `assets/mogitate-fruits-test2-er.png` ã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚  
   â†’ READMEã§ã¯ã“ã®ç”»åƒã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚
4. ç·¨é›†ã«ã¯ [draw.ioï¼ˆdiagrams.netï¼‰](https://app.diagrams.net/) ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚  
ã€€ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ—ãƒªã¾ãŸã¯ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆã®ã©ã¡ã‚‰ã§ã‚‚ç·¨é›†å¯èƒ½ã§ã™ã€‚
5. ERå›³ã®æ›´æ–°æ‰‹é †ï¼šdrawioã§ç·¨é›† â†’ PNGå†å‡ºåŠ› â†’ assetsã«ä¸Šæ›¸ãä¿å­˜ â†’ READMEç¢ºèª  
   â€»GitHubä¸Šã§ç”»åƒãŒæ›´æ–°ã•ã‚Œãªã„å ´åˆã¯ã€Shift+å†èª­ã¿è¾¼ã¿ï¼ˆCtrl+Shift+Rï¼‰ãªã©ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å¼·åˆ¶ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„ã€‚

### ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆè¦ç‚¹ï¼‰

- products ãƒ†ãƒ¼ãƒ–ãƒ«  
  - name: string å‹ï¼ˆå•†å“åï¼‰  
  - price: integer å‹ï¼ˆä¾¡æ ¼ï¼‰  
  - description: text å‹ï¼ˆèª¬æ˜æ–‡ï¼‰  

- seasons ãƒ†ãƒ¼ãƒ–ãƒ«  
  - name: string å‹ï¼ˆå­£ç¯€åï¼šæ˜¥ãƒ»å¤ãƒ»ç§‹ãƒ»å†¬ï¼‰  

- ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ« product_season  
  - product_id: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆproducts.idï¼‰  
  - season_id: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆseasons.idï¼‰  

- Seeder ã§ã¯ã€å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã—ã€å¯¾å¿œã™ã‚‹å­£ç¯€ãƒ‡ãƒ¼ã‚¿ã¨é–¢é€£ä»˜ã‘ã¦ç™»éŒ²  
  - ä¾‹:  
    ```php
    $seasonIds = Season::whereIn('name', $seasonNames)->pluck('id');
    $product->seasons()->attach($seasonIds);
    ```

### ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ

- seasons ãƒ†ãƒ¼ãƒ–ãƒ«: Seeder ã‚’ä½¿ç”¨ã—ã¦ä»¥ä¸‹ 4 ä»¶ã‚’ä½œæˆ  
  1. æ˜¥  
  2. å¤  
  3. ç§‹  
  4. å†¬  

- products ãƒ†ãƒ¼ãƒ–ãƒ«: Seeder ã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ  
  - name, price, description ã‚’æŒã¤å•†å“ã‚’æŠ•å…¥  
  - å„å•†å“ã¯è¤‡æ•°ã®å­£ç¯€ã¨é–¢é€£ä»˜ã‘ã‚‰ã‚Œã‚‹  

- ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ« product_season:  
  - ProductSeeder å†…ã§ `$product->seasons()->attach($seasonIds);` ã‚’ä½¿ç”¨ã—ã€  
    å•†å“ã¨å­£ç¯€ã®å¤šå¯¾å¤šé–¢ä¿‚ã‚’ç™»éŒ²
 
## ğŸŒ ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ç¢ºèªç”¨URL
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³: [http://localhost/products](http://localhost/products)
  â†’ å•†å“ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
- phpMyAdmin: [http://localhost:8080/](http://localhost:8080/)
  â†’ DB æ¥ç¶šç¢ºèªã‚„ãƒ†ãƒ¼ãƒ–ãƒ«å†…å®¹ã®ç¢ºèªãŒå¯èƒ½ã§ã™

## å®Ÿè£…çŠ¶æ³
- [x] Docker ç’°å¢ƒæ§‹ç¯‰ (nginx, php, mysql, phpmyadmin)
- [x] Laravel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] ãƒ¢ãƒ‡ãƒ«ãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆï¼ˆproducts, seasons, ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- [x] Seeder ã«ã‚ˆã‚‹åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆå•†å“ãƒ»å­£ç¯€ãƒ»é–¢é€£ä»˜ã‘ï¼‰
- [x] Blade ã«ã‚ˆã‚‹ç”»é¢ä½œæˆï¼ˆå•†å“ä¸€è¦§ãƒ»è©³ç´°ãƒ»ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ï¼‰
- [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå•†å“ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®å…¥åŠ›ãƒã‚§ãƒƒã‚¯ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºæ•´å‚™ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ã‹ã‚Šã‚„ã™ã„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼‰
- [x] ãƒ‡ã‚¶ã‚¤ãƒ³èª¿æ•´ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã®æ”¹å–„ï¼‰
- [ ] å•†å“æ¤œç´¢æ©Ÿèƒ½ï¼ˆéƒ¨åˆ†ä¸€è‡´æ¤œç´¢ï¼‰
- [ ] å•†å“ä¸¦ã³æ›¿ãˆæ©Ÿèƒ½ï¼ˆä¾¡æ ¼ã®é«˜ã„é †ï¼ä½ã„é †ï¼‰

## æå‡ºã«ã‚ãŸã£ã¦
- main ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆæ¸ˆã¿  
- `.env` ã‚„ `vendor/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»å†ç¾æ€§ã®è¦³ç‚¹ã‹ã‚‰ã‚³ãƒŸãƒƒãƒˆå¯¾è±¡å¤–ã¨ã—ã¦ã„ã¾ã™

### å•†å“ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

- å•†å“ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒã¯ `storage/app/public/images` ã«ä¿å­˜ã•ã‚Œã€DBã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã®ã¿ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚
- è¡¨ç¤ºæ™‚ã«ã¯ `asset('storage/' . $product->image)` ã‚’åˆ©ç”¨ã—ã€`public/storage` çµŒç”±ã§ç”»åƒã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚
- åˆå›ã®ã¿ `php artisan storage:link` ã‚’å®Ÿè¡Œã—ã¦ã€`storage` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ `public` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã®åˆæœŸåŒ–ã«ã¤ã„ã¦

- `php artisan migrate:fresh --seed` ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€productsãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿10ä»¶ãŒå†ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- ç™»éŒ²ãƒ†ã‚¹ãƒˆã§è¿½åŠ ã—ãŸå•†å“ãƒ‡ãƒ¼ã‚¿ãŒæ··åœ¨ã—ã¦ã„ã‚‹å ´åˆã‚‚ã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§åˆæœŸåŒ–ã§ãã¾ã™ã€‚
- Seederãƒ•ã‚¡ã‚¤ãƒ«ã¯ `database/seeders/ProductSeeder.php` ã«è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯å­¦ç¿’ãƒ»ç¢ºèªãƒ†ã‚¹ãƒˆç”¨ã«ä½œæˆã—ãŸã‚‚ã®ã§ã‚ã‚Šã€å•†ç”¨åˆ©ç”¨ã¯æƒ³å®šã—ã¦ã„ã¾ã›ã‚“ã€‚

>>>>>>> 39c6d398ef047fd2a1380bb00b8b41425c3f341a
